{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CHARAN\\\\OneDrive\\\\Desktop\\\\habit-tracker\\\\frontend\\\\src\\\\components\\\\MainPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainPage = () => {\n  _s();\n  const [habits, setHabits] = useState([]);\n  const [habitName, setHabitName] = useState(\"\");\n\n  // Get current date and day\n  const today = new Date();\n  const dateStr = today.toLocaleDateString(\"en-GB\");\n  const dayStr = today.toLocaleDateString(\"en-GB\", {\n    weekday: \"long\"\n  });\n\n  // Fetch habits from backend\n  const fetchHabits = useCallback(async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) return;\n      const res = await axios.get(\"http://localhost:5000/api/habits\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setHabits(res.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(\"Failed to fetch habits:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message);\n    }\n  }, []);\n  useEffect(() => {\n    fetchHabits();\n  }, [fetchHabits]);\n\n  // Add new habit\n  const addHabit = async () => {\n    if (!habitName) return;\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.post(\"http://localhost:5000/api/habits\", {\n        name: habitName\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setHabits([...habits, res.data]);\n      setHabitName(\"\");\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(\"Failed to add habit:\", ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || err.message);\n    }\n  };\n\n  // Toggle habit completion\n  const toggleHabit = async id => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.patch(`http://localhost:5000/api/habits/${id}/toggle`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setHabits(habits.map(h => h._id === id ? res.data : h));\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(\"Failed to toggle habit:\", ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || err.message);\n    }\n  };\n\n  // Inline CSS styles\n  const styles = {\n    mainPage: {\n      maxWidth: \"500px\",\n      margin: \"20px auto\",\n      textAlign: \"center\",\n      fontFamily: \"Arial, sans-serif\"\n    },\n    addHabit: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      margin: \"20px 0\"\n    },\n    input: {\n      padding: \"8px\",\n      width: \"70%\",\n      fontSize: \"16px\"\n    },\n    button: {\n      padding: \"8px 16px\",\n      marginLeft: \"10px\",\n      fontSize: \"16px\",\n      cursor: \"pointer\"\n    },\n    habitList: {\n      listStyle: \"none\",\n      padding: 0\n    },\n    habitItem: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginBottom: \"10px\"\n    },\n    completed: {\n      textDecoration: \"line-through\",\n      color: \"gray\"\n    },\n    checkbox: {\n      marginRight: \"10px\",\n      transform: \"scale(1.2)\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.mainPage,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to your Habit Tracker!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Today is \", dayStr, \", \", dateStr]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.addHabit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: habitName,\n        onChange: e => setHabitName(e.target.value),\n        placeholder: \"Enter new habit\",\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addHabit,\n        style: styles.button,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: styles.habitList,\n      children: habits.map(habit => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          ...styles.habitItem,\n          ...(habit.completed ? styles.completed : {})\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: habit.completed,\n          onChange: () => toggleHabit(habit._id),\n          style: styles.checkbox\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: habit.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, habit._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(MainPage, \"jhtWQX/XDcghjxjuaBaCCcxBcCk=\");\n_c = MainPage;\nexport default MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","jsxDEV","_jsxDEV","MainPage","_s","habits","setHabits","habitName","setHabitName","today","Date","dateStr","toLocaleDateString","dayStr","weekday","fetchHabits","token","localStorage","getItem","res","get","headers","Authorization","data","err","_err$response","_err$response$data","console","error","response","message","addHabit","post","name","_err$response2","_err$response2$data","toggleHabit","id","patch","map","h","_id","_err$response3","_err$response3$data","styles","mainPage","maxWidth","margin","textAlign","fontFamily","display","justifyContent","input","padding","width","fontSize","button","marginLeft","cursor","habitList","listStyle","habitItem","alignItems","marginBottom","completed","textDecoration","color","checkbox","marginRight","transform","style","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","habit","checked","_c","$RefreshReg$"],"sources":["C:/Users/CHARAN/OneDrive/Desktop/habit-tracker/frontend/src/components/MainPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst MainPage = () => {\r\n  const [habits, setHabits] = useState([]);\r\n  const [habitName, setHabitName] = useState(\"\");\r\n\r\n  // Get current date and day\r\n  const today = new Date();\r\n  const dateStr = today.toLocaleDateString(\"en-GB\");\r\n  const dayStr = today.toLocaleDateString(\"en-GB\", { weekday: \"long\" });\r\n\r\n  // Fetch habits from backend\r\n  const fetchHabits = useCallback(async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (!token) return;\r\n\r\n      const res = await axios.get(\"http://localhost:5000/api/habits\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setHabits(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch habits:\", err.response?.data?.message || err.message);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchHabits();\r\n  }, [fetchHabits]);\r\n\r\n  // Add new habit\r\n  const addHabit = async () => {\r\n    if (!habitName) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await axios.post(\r\n        \"http://localhost:5000/api/habits\",\r\n        { name: habitName },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setHabits([...habits, res.data]);\r\n      setHabitName(\"\");\r\n    } catch (err) {\r\n      console.error(\"Failed to add habit:\", err.response?.data?.message || err.message);\r\n    }\r\n  };\r\n\r\n  // Toggle habit completion\r\n  const toggleHabit = async (id) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await axios.patch(\r\n        `http://localhost:5000/api/habits/${id}/toggle`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      setHabits(habits.map(h => (h._id === id ? res.data : h)));\r\n    } catch (err) {\r\n      console.error(\"Failed to toggle habit:\", err.response?.data?.message || err.message);\r\n    }\r\n  };\r\n\r\n  // Inline CSS styles\r\n  const styles = {\r\n    mainPage: {\r\n      maxWidth: \"500px\",\r\n      margin: \"20px auto\",\r\n      textAlign: \"center\",\r\n      fontFamily: \"Arial, sans-serif\",\r\n    },\r\n    addHabit: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      margin: \"20px 0\",\r\n    },\r\n    input: {\r\n      padding: \"8px\",\r\n      width: \"70%\",\r\n      fontSize: \"16px\",\r\n    },\r\n    button: {\r\n      padding: \"8px 16px\",\r\n      marginLeft: \"10px\",\r\n      fontSize: \"16px\",\r\n      cursor: \"pointer\",\r\n    },\r\n    habitList: {\r\n      listStyle: \"none\",\r\n      padding: 0,\r\n    },\r\n    habitItem: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      marginBottom: \"10px\",\r\n    },\r\n    completed: {\r\n      textDecoration: \"line-through\",\r\n      color: \"gray\",\r\n    },\r\n    checkbox: {\r\n      marginRight: \"10px\",\r\n      transform: \"scale(1.2)\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={styles.mainPage}>\r\n      <h1>Welcome to your Habit Tracker!</h1>\r\n      <p>\r\n        Today is {dayStr}, {dateStr}\r\n      </p>\r\n\r\n      <div style={styles.addHabit}>\r\n        <input\r\n          type=\"text\"\r\n          value={habitName}\r\n          onChange={(e) => setHabitName(e.target.value)}\r\n          placeholder=\"Enter new habit\"\r\n          style={styles.input}\r\n        />\r\n        <button onClick={addHabit} style={styles.button}>\r\n          Add\r\n        </button>\r\n      </div>\r\n\r\n      <ul style={styles.habitList}>\r\n        {habits.map((habit) => (\r\n          <li\r\n            key={habit._id}\r\n            style={{\r\n              ...styles.habitItem,\r\n              ...(habit.completed ? styles.completed : {}),\r\n            }}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={habit.completed}\r\n              onChange={() => toggleHabit(habit._id)}\r\n              style={styles.checkbox}\r\n            />\r\n            <span>{habit.name}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}