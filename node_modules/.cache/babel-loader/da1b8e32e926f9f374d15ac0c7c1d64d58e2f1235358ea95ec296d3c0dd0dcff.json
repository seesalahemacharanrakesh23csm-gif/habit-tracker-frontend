{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CHARAN\\\\OneDrive\\\\Desktop\\\\habit-tracker\\\\frontend\\\\src\\\\components\\\\MainPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport HabitCard from \"./HabitCard\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MainPage = () => {\n  _s();\n  const [habits, setHabits] = useState([]);\n  const [newHabit, setNewHabit] = useState(\"\");\n  const token = localStorage.getItem(\"token\"); // Make sure token is saved\n\n  const fetchHabits = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/api/habits\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setHabits(res.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const addHabit = async () => {\n    if (!newHabit) return;\n    try {\n      await axios.post(\"http://localhost:5000/api/habits\", {\n        name: newHabit\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setNewHabit(\"\");\n      fetchHabits();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Failed to add habit\");\n    }\n  };\n  useEffect(() => {\n    fetchHabits();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.title,\n      children: \"Welcome to your Habit Tracker!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.date,\n      children: new Date().toLocaleDateString(\"en-GB\", {\n        weekday: 'long',\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.inputContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newHabit,\n        onChange: e => setNewHabit(e.target.value),\n        placeholder: \"Enter new habit\",\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addHabit,\n        style: styles.addButton,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: habits.map(habit => /*#__PURE__*/_jsxDEV(HabitCard, {\n        habit: habit,\n        toggleComplete: async () => {\n          try {\n            await axios.patch(`http://localhost:5000/api/habits/${habit._id}/toggle`, {}, {\n              headers: {\n                Authorization: `Bearer ${token}`\n              }\n            });\n            fetchHabits();\n          } catch (err) {\n            var _err$response2, _err$response2$data;\n            alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || \"Server error\");\n          }\n        }\n      }, habit._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(MainPage, \"kkTGB+Qjhpq6A9sn7y0ZFevazwI=\");\n_c = MainPage;\nconst styles = {\n  container: {\n    width: \"400px\",\n    margin: \"40px auto\",\n    fontFamily: \"Arial, sans-serif\"\n  },\n  title: {\n    textAlign: \"center\",\n    color: \"#2c3e50\"\n  },\n  date: {\n    textAlign: \"center\",\n    color: \"#7f8c8d\",\n    marginBottom: \"20px\"\n  },\n  inputContainer: {\n    display: \"flex\",\n    marginBottom: \"20px\"\n  },\n  input: {\n    flex: 1,\n    padding: \"8px\",\n    borderRadius: \"6px\",\n    border: \"1px solid #ccc\",\n    marginRight: \"8px\"\n  },\n  addButton: {\n    padding: \"8px 16px\",\n    borderRadius: \"6px\",\n    border: \"none\",\n    backgroundColor: \"#27ae60\",\n    color: \"#fff\",\n    cursor: \"pointer\"\n  }\n};\nexport default MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","HabitCard","axios","jsxDEV","_jsxDEV","MainPage","_s","habits","setHabits","newHabit","setNewHabit","token","localStorage","getItem","fetchHabits","res","get","headers","Authorization","data","err","console","error","addHabit","post","name","_err$response","_err$response$data","alert","response","message","style","styles","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","date","Date","toLocaleDateString","weekday","day","month","year","inputContainer","type","value","onChange","e","target","placeholder","input","onClick","addButton","map","habit","toggleComplete","patch","_id","_err$response2","_err$response2$data","_c","width","margin","fontFamily","textAlign","color","marginBottom","display","flex","padding","borderRadius","border","marginRight","backgroundColor","cursor","$RefreshReg$"],"sources":["C:/Users/CHARAN/OneDrive/Desktop/habit-tracker/frontend/src/components/MainPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport HabitCard from \"./HabitCard\";\r\nimport axios from \"axios\";\r\n\r\nconst MainPage = () => {\r\n  const [habits, setHabits] = useState([]);\r\n  const [newHabit, setNewHabit] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"token\"); // Make sure token is saved\r\n\r\n  const fetchHabits = async () => {\r\n    try {\r\n      const res = await axios.get(\"http://localhost:5000/api/habits\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setHabits(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const addHabit = async () => {\r\n    if (!newHabit) return;\r\n    try {\r\n      await axios.post(\r\n        \"http://localhost:5000/api/habits\",\r\n        { name: newHabit },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setNewHabit(\"\");\r\n      fetchHabits();\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Failed to add habit\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHabits();\r\n  }, []);\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <h2 style={styles.title}>Welcome to your Habit Tracker!</h2>\r\n      <p style={styles.date}>{new Date().toLocaleDateString(\"en-GB\", { weekday: 'long', day: '2-digit', month: '2-digit', year: 'numeric' })}</p>\r\n\r\n      <div style={styles.inputContainer}>\r\n        <input\r\n          type=\"text\"\r\n          value={newHabit}\r\n          onChange={(e) => setNewHabit(e.target.value)}\r\n          placeholder=\"Enter new habit\"\r\n          style={styles.input}\r\n        />\r\n        <button onClick={addHabit} style={styles.addButton}>\r\n          Add\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        {habits.map((habit) => (\r\n          <HabitCard\r\n            key={habit._id}\r\n            habit={habit}\r\n            toggleComplete={async () => {\r\n              try {\r\n                await axios.patch(\r\n                  `http://localhost:5000/api/habits/${habit._id}/toggle`,\r\n                  {},\r\n                  { headers: { Authorization: `Bearer ${token}` } }\r\n                );\r\n                fetchHabits();\r\n              } catch (err) {\r\n                alert(err.response?.data?.message || \"Server error\");\r\n              }\r\n            }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    width: \"400px\",\r\n    margin: \"40px auto\",\r\n    fontFamily: \"Arial, sans-serif\",\r\n  },\r\n  title: {\r\n    textAlign: \"center\",\r\n    color: \"#2c3e50\",\r\n  },\r\n  date: {\r\n    textAlign: \"center\",\r\n    color: \"#7f8c8d\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  inputContainer: {\r\n    display: \"flex\",\r\n    marginBottom: \"20px\",\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    padding: \"8px\",\r\n    borderRadius: \"6px\",\r\n    border: \"1px solid #ccc\",\r\n    marginRight: \"8px\",\r\n  },\r\n  addButton: {\r\n    padding: \"8px 16px\",\r\n    borderRadius: \"6px\",\r\n    border: \"none\",\r\n    backgroundColor: \"#27ae60\",\r\n    color: \"#fff\",\r\n    cursor: \"pointer\",\r\n  },\r\n};\r\n\r\nexport default MainPage;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}