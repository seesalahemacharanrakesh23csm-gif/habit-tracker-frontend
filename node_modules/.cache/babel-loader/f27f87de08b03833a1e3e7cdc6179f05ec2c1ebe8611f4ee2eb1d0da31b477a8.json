{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CHARAN\\\\OneDrive\\\\Desktop\\\\habit-tracker\\\\frontend\\\\src\\\\components\\\\MainPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MainPage({\n  user,\n  setUser\n}) {\n  _s();\n  const [habits, setHabits] = useState([]);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const token = localStorage.getItem(\"token\");\n  const fetchHabits = async () => {\n    const res = await fetch(\"http://localhost:5000/api/habits\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const data = await res.json();\n    setHabits(data);\n  };\n  useEffect(() => {\n    fetchHabits();\n  }, []);\n  const handleAddHabit = async e => {\n    e.preventDefault();\n    const res = await fetch(\"http://localhost:5000/api/habits\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        title,\n        description\n      })\n    });\n    const newHabit = await res.json();\n    setHabits([...habits, newHabit]);\n    setTitle(\"\");\n    setDescription(\"\");\n  };\n  const toggleCompleted = async id => {\n    const res = await fetch(`http://localhost:5000/api/habits/${id}/toggle`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const updatedHabit = await res.json();\n    setHabits(habits.map(h => h._id === id ? updatedHabit : h));\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [user.name, \"'s Habit Tracker\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      className: \"logout-btn\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddHabit,\n      className: \"habit-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Habit Title\",\n        value: title,\n        required: true,\n        onChange: e => setTitle(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Description\",\n        value: description,\n        onChange: e => setDescription(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Habit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"habit-list\",\n      children: habits.map(habit => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: habit.completed ? \"completed\" : \"\",\n        onClick: () => toggleCompleted(habit._id),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"tick\",\n          children: habit.completed ? \"✔️ \" : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"title\",\n          children: habit.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), habit.description && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"desc\",\n          children: [\" - \", habit.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }, this)]\n      }, habit._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(MainPage, \"sGhfLu40KyM8SOBVJaf/Bd5drs0=\");\n_c = MainPage;\nexport default MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","MainPage","user","setUser","_s","habits","setHabits","title","setTitle","description","setDescription","token","localStorage","getItem","fetchHabits","res","fetch","headers","Authorization","data","json","handleAddHabit","e","preventDefault","method","body","JSON","stringify","newHabit","toggleCompleted","id","updatedHabit","map","h","_id","handleLogout","removeItem","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","placeholder","value","required","onChange","target","habit","completed","_c","$RefreshReg$"],"sources":["C:/Users/CHARAN/OneDrive/Desktop/habit-tracker/frontend/src/components/MainPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nfunction MainPage({ user, setUser }) {\r\n  const [habits, setHabits] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const fetchHabits = async () => {\r\n    const res = await fetch(\"http://localhost:5000/api/habits\", {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const data = await res.json();\r\n    setHabits(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchHabits();\r\n  }, []);\r\n\r\n  const handleAddHabit = async (e) => {\r\n    e.preventDefault();\r\n    const res = await fetch(\"http://localhost:5000/api/habits\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({ title, description }),\r\n    });\r\n    const newHabit = await res.json();\r\n    setHabits([...habits, newHabit]);\r\n    setTitle(\"\");\r\n    setDescription(\"\");\r\n  };\r\n\r\n  const toggleCompleted = async (id) => {\r\n    const res = await fetch(`http://localhost:5000/api/habits/${id}/toggle`, {\r\n      method: \"PATCH\",\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const updatedHabit = await res.json();\r\n    setHabits(habits.map((h) => (h._id === id ? updatedHabit : h)));\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <h1>{user.name}'s Habit Tracker</h1>\r\n      <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\r\n\r\n      <form onSubmit={handleAddHabit} className=\"habit-form\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Habit Title\"\r\n          value={title}\r\n          required\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n        <button type=\"submit\">Add Habit</button>\r\n      </form>\r\n\r\n      <ul className=\"habit-list\">\r\n        {habits.map((habit) => (\r\n          <li\r\n            key={habit._id}\r\n            className={habit.completed ? \"completed\" : \"\"}\r\n            onClick={() => toggleCompleted(habit._id)}\r\n          >\r\n            <span className=\"tick\">{habit.completed ? \"✔️ \" : \"\"}</span>\r\n            <span className=\"title\">{habit.title}</span>\r\n            {habit.description && (\r\n              <span className=\"desc\"> - {habit.description}</span>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}